{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?84e6","webpack:///./src/App.vue","webpack:///./src/App.vue?96b3","webpack:///./src/App.vue?a286","webpack:///./src/pages/Editor.vue?4cac","webpack:///./src/components/editor/EditorController.vue?6299","webpack:///./src/components/editor/EditorMain.vue?1977","webpack:///./src/model/KeyConfig.ts","webpack:///./src/model/PageScore.ts","webpack:///./src/components/editor/EditorConstant.ts","webpack:///./src/components/editor/service/MusicService.ts","webpack:///./src/components/editor/service/NoteService.ts","webpack:///./src/components/editor/service/SpeedPieceService.ts","webpack:///./src/components/editor/service/PageScoreService.ts","webpack:///./src/components/editor/SpeedPiece.vue?31a4","webpack:///./src/components/editor/SpeedPiece.vue","webpack:///./src/components/editor/SpeedPiece.vue?b675","webpack:///./src/components/editor/SpeedPiece.vue?1995","webpack:///./src/components/editor/helper/Calculator.ts","webpack:///./src/components/editor/EditorMain.vue","webpack:///./src/components/editor/EditorMain.vue?7838","webpack:///./src/components/editor/EditorMain.vue?7b67","webpack:///./src/model/ScoreData.ts","webpack:///./src/components/editor/service/ScoreConvertService.ts","webpack:///./src/components/editor/EditorController.vue","webpack:///./src/components/editor/EditorController.vue?c5dc","webpack:///./src/components/editor/EditorController.vue?280c","webpack:///./src/pages/Editor.vue","webpack:///./src/pages/Editor.vue?9ca7","webpack:///./src/pages/Editor.vue?983f","webpack:///./src/pages/Start.vue?b54a","webpack:///./src/components/start/StartMain.vue?6240","webpack:///./src/components/start/StartUploader.vue?2aee","webpack:///./src/components/start/StartUploader.vue","webpack:///./src/components/start/StartUploader.vue?0c8c","webpack:///./src/components/start/StartUploader.vue?5c4e","webpack:///./src/components/start/StartMain.vue","webpack:///./src/components/start/StartMain.vue?834a","webpack:///./src/components/start/StartMain.vue?9ff1","webpack:///./src/pages/Start.vue","webpack:///./src/pages/Start.vue?249f","webpack:///./src/pages/Start.vue?dbc7","webpack:///./src/router.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","render","_vm","this","_h","$createElement","_c","_self","staticRenderFns","extend","component","attrs","selectedKey","loadScoreDataStr","loadMusicUrl","pageNum","scoreData","keyKind","timing","on","pageMinus","pagePlus","staticClass","_m","$event","_v","_s","ref","domProps","getLabelNumByPageNum","callLabelOperation","labelMinus","labelNum","labelPlus","directives","rawName","expression","modifiers","target","composing","$set","_n","$forceUpdate","convertWithQuarters","save","convert","preventDefault","keydownAction","_l","scores","page","speed","index","position","type","model","callback","$$v","DefaultKeyConfig","id","num","keys","alternativeKeys","noteNames","freezeNames","colorGroup","keyNum","notes","Array","fill","map","freezes","speeds","noteWidth","noteHeight","verticalSizeNum","editorHeight","quarterInterval","fps","canvasMarginHorizontal","canvasMarginVertical","noteColors","freezeColors","laneColors","audio","load","play","startTime","duration","currentTime","setTimeout","pause","timer","clearTimeout","keyConfig","stage","notesLayer","hasNote","lane","pageScore","isFreeze","includes","exists","add","remove","filter","pos","draw","color","note","Rect","x","y","width","height","clear","findOne","destroy","removeOnPosition","removedLanes","editorWidth","hasSpeedPiece","some","radius","triangle","RegularPolygon","sides","rotation","copyScoreStore","displayPageScore","copy","cloneDeep","cut","DefaultPageScore","paste","style","top","inputValue","prop","event","props","Number","propValue","String","computed","set","$emit","positionToFrame","blankFrame","framePerPosition","bpm","startFrame","startNum","label","positionToSeconds","secondsToTimeStr","seconds","mm","Math","floor","sec","ss","loadScoreData","components","SpeedPiece","Audio","currentPosition","divisor","musicService","MusicService","musicTimer","methods","baseLayerDraw","baseLayer","currentPositionLayer","destroyChildren","xPos","filler","strokeWidth","line","Line","points","stroke","yPos","rect","currentPositionDraw","maybeLine","maybeTriangle","currentFrame","round","currentSeconds","currentTimeStr","displayedText","textWidth","textHeight","maybeText","text","Text","fontSize","align","musicPositionAnimation","node","currentPositionLine","tween","Tween","playMusicLoop","startPosition","endPosition","endTime","loop","playDuration","stopMusicLoop","noteService","speedPieceService","forEach","laneArr","currentPositionMove","pageMove","changeDivisor","e","pageScoreService","ctrlKey","code","obj","shiftKey","speedType","possiblyLane","max","indexOf","mounted","Stage","container","Layer","watch","newPage","timings","defaultPageScore","toFrameData","initialPageScore","sort","a","b","labelCounter","maxPageNum","frameScores","undefined","pageNoteFrames","notesArr","freezeNoteFrames","freezesArr","speedsNoteFrames","newSpeed","initialData","boosts","reduce","currentPage","concat","noteStr","str","laneNum","join","freezeStr","speedStr","boostStr","cutLastDefault","len","copiedScoreData","isEqual","pop","quarterNotes","pushQuartersPageNum","pushQuartersLane","newScoreData","quartersPageScore","JSON","stringify","EditorMain","parse","alert","scoreConvertService","labelMove","min","changeScoreData","writeClipBoard","message","navigator","clipboard","writeText","converter","labels","getNearestLabelNumByPageNum","acc","labelOperation","labelFlag","oldTiming","newStartNum","newTiming","EditorController","beforeRouteLeave","to","from","next","answer","confirm","beforeunloadAlert","returnValue","created","addEventListener","destroyed","removeEventListener","musicTitle","onMusicFileRecieve","scoreTitle","onScoreFileRecieve","$$selectedVal","options","selected","val","_value","multiple","path","params","scoreDataStr","musicUrl","query","ondragover","ondrop","loadFile","msg","vue","file","dataTransfer","dropEffect","files","HTMLInputElement","newFile","StartUploader","mimeTypePattern","match","FileReader","onload","readAsDataURL","readAsText","StartMain","config","productionTip","use","routes","Start","Editor","router","h","App","$mount"],"mappings":"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Q,GAAI,GAAI,GAAI,IACtDC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGvC,KAAM,CACJN,GAAI,EACJC,IAAK,EACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,OAAQ,IAC1DC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGvC,GAAM,CACJN,GAAI,EACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,GAAI,GAAI,GAAI,SAAU,IACpEC,UAAW,CACT,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLN,GAAI,EACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,SAAU,GAAI,GAAI,GAAI,GAAI,OAAQ,GAAI,GAAI,IACpEC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,cAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,iBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,OACA,OACA,UAEFC,gBAAiB,CACf,GACA,GACA,GACA,OACA,GACA,GACA,GACA,SACA,GACA,GACA,SAEFC,UAAW,CACT,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,MAAO,CACLN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,QAEFC,gBAAiB,CACf,GACA,OACA,GACA,OACA,GACA,OACA,GACA,QACA,GACA,OACA,IAEFC,UAAW,CACT,YACA,YACA,WACA,UACA,aACA,aACA,aACA,aACA,YACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,cACA,aACA,gBACA,gBACA,gBACA,gBACA,eACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG7C,GAAM,CACJN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,SACA,QAEFC,gBAAiB,CAAC,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,GAAI,SAAU,IACpEC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGhD,GAAM,CACJN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,YACA,YACA,UACA,aACA,aACA,aACA,aACA,WACA,cACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,eACA,eACA,aACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGnD,GAAM,CACJN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,QACA,OACA,SACA,OACA,OACA,OACA,SACA,OACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,SACA,GACA,eAEFC,UAAW,CACT,WACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,gBACA,aACA,aACA,WACA,cACA,kBAEFC,YAAa,CACX,YACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,gBACA,cACA,iBACA,iBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,MAAO,CACLN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,gBACA,aACA,cACA,WACA,iBACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,gBACA,iBACA,cACA,gBACA,iBACA,eACA,eACA,aACA,iBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGtD,GAAM,CACJN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,SACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,SACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,aACA,aACA,WACA,cACA,YACA,eACA,YACA,aACA,UACA,gBACA,aACA,aACA,aACA,WACA,eAEFC,YAAa,CACX,gBACA,gBACA,cACA,iBACA,eACA,eACA,eACA,gBACA,aACA,eACA,gBACA,gBACA,gBACA,cACA,kBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAGzD,MAAO,CACLN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,YACA,OACA,OACA,SACA,QAEFC,gBAAiB,CACf,GACA,GACA,GACA,GACA,GACA,GACA,GACA,OACA,GACA,GACA,GACA,GACA,GACA,GACA,SACA,IAEFC,UAAW,CACT,WACA,aACA,WACA,aACA,aACA,WACA,cACA,cACA,aACA,aACA,WACA,cACA,YACA,YACA,UACA,cAEFC,YAAa,CACX,cACA,gBACA,cACA,gBACA,gBACA,cACA,iBACA,iBACA,gBACA,gBACA,cACA,iBACA,eACA,eACA,aACA,iBAEFC,WAAY,CAAC,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,EAAG,IAG5D,GAAM,CACJN,GAAI,GACJC,IAAK,GACLC,KAAM,CACJ,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,OACA,O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","file":"js/app.1fa3c6cb.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"App\"\r\n});\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/ts-loader/index.js??ref--13-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=dfedde86&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor\"}},[_c('editor-controller',{attrs:{\"selected-key\":_vm.selectedKey,\"load-score-data-str\":_vm.loadScoreDataStr,\"load-music-url\":_vm.loadMusicUrl}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-controller\"}},[_c('editor-main',{attrs:{\"page-num\":_vm.pageNum,\"load-score-data\":_vm.scoreData,\"load-music-url\":_vm.loadMusicUrl,\"selected-key\":_vm.keyKind,\"timing\":_vm.timing},on:{\"page-minus\":_vm.pageMinus,\"page-plus\":_vm.pagePlus}}),_c('div',{attrs:{\"id\":\"editor-menu\"}},[_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-page\"}},[_vm._m(0),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(5)}}},[_vm._v(\"◁\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pageMinus(1)}}},[_vm._v(\"◁\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.pageNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(1)}}},[_vm._v(\"▷\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.pagePlus(5)}}},[_vm._v(\"▷\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-label\"}},[_c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Label\")]),_c('input',{ref:\"label-checkbox\",staticClass:\"uk-checkbox\",attrs:{\"id\":\"menu-label-checkbox\",\"type\":\"checkbox\",\"disabled\":_vm.pageNum === 1},domProps:{\"checked\":_vm.getLabelNumByPageNum(_vm.pageNum) !== -1},on:{\"click\":_vm.callLabelOperation}})]),_c('div',{staticClass:\"menu-move-display\"},[_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(5)}}},[_vm._v(\"◁\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelMinus(1)}}},[_vm._v(\"◁\")]),_c('div',{staticClass:\"menu-move-txt\"},[_vm._v(_vm._s(_vm.labelNum))]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(1)}}},[_vm._v(\"▷\")]),_c('div',{staticClass:\"menu-move-btn\",on:{\"click\":function($event){return _vm.labelPlus(5)}}},[_vm._v(\"▷\")])])]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-adj\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Blank Frame\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.scoreData.blankFrame),expression:\"scoreData.blankFrame\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.scoreData.blankFrame)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.scoreData, \"blankFrame\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-sn\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Start Number\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.startNum),expression:\"timing.startNum\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.startNum)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"startNum\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-bpm\"}},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"BPM\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model.number\",value:(_vm.timing.bpm),expression:\"timing.bpm\",modifiers:{\"number\":true}}],staticClass:\"uk-input uk-form-small\",attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.timing.bpm)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.timing, \"bpm\", _vm._n($event.target.value))},\"blur\":function($event){return _vm.$forceUpdate()}}})]),_c('div',{staticClass:\"menu-item-container\",attrs:{\"id\":\"menu-output\"}},[_c('div',{staticClass:\"menu-output-btn btn-gray\",on:{\"click\":_vm.convertWithQuarters}},[_vm._v(\" TEST \")]),_c('div',{staticClass:\"menu-output-btn btn-blue\",on:{\"click\":_vm.save}},[_vm._v(\"SAVE\")]),_c('div',{staticClass:\"menu-output-btn btn-red\",on:{\"click\":_vm.convert}},[_vm._v(\"GO!\")])])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"menu-move-header\"},[_c('div',{staticClass:\"menu-txt\"},[_vm._v(\"Page\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"editor-main\"}},[_c('div',{ref:\"canvas\",attrs:{\"id\":\"canvas\",\"tabindex\":\"-1\"},on:{\"keydown\":function($event){$event.preventDefault();return _vm.keydownAction($event)}}}),_vm._l((_vm.scoreData.scores[_vm.page - 1].speeds),function(speed,index){return _c('speed-piece',{key:index,attrs:{\"position\":speed.position,\"type\":speed.type},model:{value:(speed.value),callback:function ($$v) {_vm.$set(speed, \"value\", $$v)},expression:\"speed.value\"}})})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { KeyKind } from \"./KeyKind\";\r\n\r\nexport type KeyConfig = {\r\n  [keyKind in KeyKind]: {\r\n    id: number;\r\n    num: number;\r\n    keys: string[];\r\n    alternativeKeys: string[];\r\n    noteNames: string[];\r\n    freezeNames: string[];\r\n    colorGroup: number[];\r\n  };\r\n};\r\n\r\nexport const DefaultKeyConfig: KeyConfig = {\r\n  \"5\": {\r\n    id: 1,\r\n    num: 5,\r\n    keys: [\"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\", \"KeyG\"],\r\n    alternativeKeys: [\"KeyS\", \"KeyD\", \"KeyE\", \"KeyF\", \"KeyH\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2]\r\n  },\r\n\r\n  \"7\": {\r\n    id: 2,\r\n    num: 7,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"7i\": {\r\n    id: 3,\r\n    num: 7,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyJ\", \"KeyK\", \"KeyI\", \"KeyL\"],\r\n    alternativeKeys: [\"KeyZ\", \"KeyX\", \"KeyC\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [1, 1, 1, 0, 0, 0, 0]\r\n  },\r\n\r\n  \"8\": {\r\n    id: 4,\r\n    num: 8,\r\n    keys: [\"KeyS\", \"KeyD\", \"KeyF\", \"KeyG\", \"KeyJ\", \"KeyK\", \"KeyL\", \"Semicolon\"],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2]\r\n  },\r\n\r\n  \"9A\": {\r\n    id: 5,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"KeyR\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1]\r\n  },\r\n\r\n  \"9B\": {\r\n    id: 6,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 0, 1, 0, 1]\r\n  },\r\n\r\n  \"9i\": {\r\n    id: 7,\r\n    num: 9,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"KeyO\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [1, 0, 1, 0, 2, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11\": {\r\n    id: 8,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"11L\": {\r\n    id: 9,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"Digit4\", \"\", \"\", \"\", \"\", \"KeyH\", \"\", \"\", \"\"],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0]\r\n  },\r\n\r\n  \"11W\": {\r\n    id: 10,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Digit2\",\r\n      \"KeyT\",\r\n      \"KeyY\",\r\n      \"Digit0\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit1\",\r\n      \"\",\r\n      \"\",\r\n      \"Minus\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 2, 0, 1, 0, 2, 3, 3, 2]\r\n  },\r\n\r\n  \"11i\": {\r\n    id: 11,\r\n    num: 11,\r\n    keys: [\r\n      \"KeyS\",\r\n      \"KeyC\",\r\n      \"KeyD\",\r\n      \"KeyE\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"KeyI\",\r\n      \"KeyL\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"KeyX\",\r\n      \"\",\r\n      \"KeyR\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"Comma\",\r\n      \"\",\r\n      \"KeyO\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"gor_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"siyo_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzGor_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzIyo_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 2, 0, 0, 2, 1, 1, 2, 1, 1]\r\n  },\r\n\r\n  \"12\": {\r\n    id: 12,\r\n    num: 12,\r\n    keys: [\r\n      \"KeyB\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"Digit9\", \"\"],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"13\": {\r\n    id: 13,\r\n    num: 13,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\",\r\n      \"space_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 0, 0, 0, 2, 1, 1, 1, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"14\": {\r\n    id: 14,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyB\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\",\r\n      \"KeyY\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\",\r\n      \"KeyP\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyT\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\",\r\n      \"BracketLeft\"\r\n    ],\r\n    noteNames: [\r\n      \"oni_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"sleftdia_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"srightdia_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"foni_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"sfrzRdia_data\"\r\n    ],\r\n    colorGroup: [2, 0, 1, 0, 1, 0, 1, 0, 2, 3, 3, 3, 3, 2]\r\n  },\r\n\r\n  \"14i\": {\r\n    id: 15,\r\n    num: 14,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sleftdia_data\",\r\n      \"sdown_data\",\r\n      \"sspace_data\",\r\n      \"sup_data\",\r\n      \"srightdia_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzLdia_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzSpace_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRdia_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"15\": {\r\n    id: 16,\r\n    num: 15,\r\n    keys: [\r\n      \"KeyW\",\r\n      \"KeyE\",\r\n      \"Digit3\",\r\n      \"KeyR\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"Digit4\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"left_data\",\r\n      \"leftdia_data\",\r\n      \"down_data\",\r\n      \"space_data\",\r\n      \"up_data\",\r\n      \"rightdia_data\",\r\n      \"right_data\",\r\n      \"tleft_data\",\r\n      \"tdown_data\",\r\n      \"tup_data\",\r\n      \"tright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzLdia_data\",\r\n      \"frzDown_data\",\r\n      \"frzSpace_data\",\r\n      \"frzUp_data\",\r\n      \"frzRdia_data\",\r\n      \"frzRight_data\",\r\n      \"tfrzLeft_data\",\r\n      \"tfrzDown_data\",\r\n      \"tfrzUp_data\",\r\n      \"tfrzRight_data\"\r\n    ],\r\n    colorGroup: [3, 3, 3, 3, 0, 1, 0, 2, 0, 1, 0, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"16i\": {\r\n    id: 17,\r\n    num: 16,\r\n    keys: [\r\n      \"KeyZ\",\r\n      \"KeyX\",\r\n      \"KeyC\",\r\n      \"KeyA\",\r\n      \"KeyS\",\r\n      \"KeyD\",\r\n      \"KeyF\",\r\n      \"KeyG\",\r\n      \"KeyJ\",\r\n      \"KeyK\",\r\n      \"KeyL\",\r\n      \"Semicolon\",\r\n      \"KeyU\",\r\n      \"KeyI\",\r\n      \"Digit8\",\r\n      \"KeyO\"\r\n    ],\r\n    alternativeKeys: [\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"KeyH\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"\",\r\n      \"Digit9\",\r\n      \"\"\r\n    ],\r\n    noteNames: [\r\n      \"gor_data\",\r\n      \"space_data\",\r\n      \"iyo_data\",\r\n      \"sleft_data\",\r\n      \"sdown_data\",\r\n      \"sup_data\",\r\n      \"sright_data\",\r\n      \"aspace_data\",\r\n      \"aleft_data\",\r\n      \"adown_data\",\r\n      \"aup_data\",\r\n      \"aright_data\",\r\n      \"left_data\",\r\n      \"down_data\",\r\n      \"up_data\",\r\n      \"right_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"frzGor_data\",\r\n      \"frzSpace_data\",\r\n      \"frzIyo_data\",\r\n      \"sfrzLeft_data\",\r\n      \"sfrzDown_data\",\r\n      \"sfrzUp_data\",\r\n      \"sfrzRight_data\",\r\n      \"afrzSpace_data\",\r\n      \"afrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"frzLeft_data\",\r\n      \"frzDown_data\",\r\n      \"frzUp_data\",\r\n      \"frzRight_data\"\r\n    ],\r\n    colorGroup: [2, 2, 2, 1, 0, 1, 0, 2, 0, 1, 0, 1, 3, 3, 3, 3]\r\n  },\r\n\r\n  \"17\": {\r\n    id: 18,\r\n    num: 17,\r\n    keys: [\r\n      \"KeyA\",\r\n      \"KeyZ\",\r\n      \"KeyS\",\r\n      \"KeyX\",\r\n      \"KeyD\",\r\n      \"KeyC\",\r\n      \"KeyF\",\r\n      \"KeyV\",\r\n      \"KeyG\",\r\n      \"KeyN\",\r\n      \"KeyJ\",\r\n      \"KeyM\",\r\n      \"KeyK\",\r\n      \"Comma\",\r\n      \"KeyL\",\r\n      \"Period\"\r\n    ],\r\n    alternativeKeys: [\"\", \"\", \"\", \"\", \"\", \"\", \"\", \"\", \"KeyH\"],\r\n    noteNames: [\r\n      \"aleft_data\",\r\n      \"bleft_data\",\r\n      \"adown_data\",\r\n      \"bdown_data\",\r\n      \"aup_data\",\r\n      \"bup_data\",\r\n      \"aright_data\",\r\n      \"bright_data\",\r\n      \"space_data\",\r\n      \"cleft_data\",\r\n      \"dleft_data\",\r\n      \"cdown_data\",\r\n      \"ddown_data\",\r\n      \"cup_data\",\r\n      \"dup_data\",\r\n      \"cright_data\",\r\n      \"dright_data\"\r\n    ],\r\n    freezeNames: [\r\n      \"afrzLeft_data\",\r\n      \"bfrzLeft_data\",\r\n      \"afrzDown_data\",\r\n      \"bfrzDown_data\",\r\n      \"afrzUp_data\",\r\n      \"bfrzUp_data\",\r\n      \"afrzRight_data\",\r\n      \"bfrzRight_data\",\r\n      \"frzSpace_data\",\r\n      \"cfrzLeft_data\",\r\n      \"dfrzLeft_data\",\r\n      \"cfrzDown_data\",\r\n      \"dfrzDown_data\",\r\n      \"cfrzUp_data\",\r\n      \"dfrzUp_data\",\r\n      \"cfrzRight_data\",\r\n      \"dfrzRight_data\"\r\n    ],\r\n    colorGroup: [0, 1, 0, 1, 0, 1, 0, 1, 2, 1, 0, 1, 0, 1, 0, 1, 0]\r\n  }\r\n};\r\n","import { Speed } from \"./Speed\";\r\n\r\nexport interface PageScore {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n  speeds: Speed[];\r\n}\r\n\r\nexport class DefaultPageScore implements PageScore {\r\n  constructor(private keyNum: number) {}\r\n\r\n  notes = new Array(this.keyNum).fill([]).map(() => []);\r\n  freezes = new Array(this.keyNum).fill([]).map(() => []);\r\n  speeds = [];\r\n}\r\n","export const noteWidth = 30;\r\nexport const noteHeight = 5;\r\nexport const verticalSizeNum = 384;\r\nexport const editorHeight = verticalSizeNum;\r\nexport const quarterInterval = verticalSizeNum / 8;\r\nexport const fps = 60;\r\n\r\nexport const canvasMarginHorizontal = 50;\r\nexport const canvasMarginVertical = 20;\r\n\r\nexport const noteColors = [\"#ff0000\", \"#0000ff\", \"#00cc00\", \"#ff9000\"];\r\nexport const freezeColors = [\"#ff4dd2\", \"#00ffff\", \"#ceff00\", \"#c99b7d\"];\r\nexport const laneColors = [\"#fff0ff\", \"#f0f0ff\", \"#f0fff0\", \"#fff0dd\"];\r\n","export class MusicService {\r\n  constructor(private audio: HTMLAudioElement) {\r\n    audio.load();\r\n  }\r\n\r\n  play(startTime: number): void {\r\n    const duration = this.audio.duration;\r\n    if (duration > startTime) {\r\n      this.audio.currentTime = startTime;\r\n      if (startTime < 0) {\r\n        setTimeout(() => this.audio.play(), -startTime * 1000);\r\n      } else this.audio.play();\r\n    }\r\n  }\r\n\r\n  pause(timer?: number) {\r\n    this.audio.pause();\r\n    clearTimeout(timer);\r\n  }\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { KeyConfig } from \"@/model/KeyConfig\";\r\nimport { KeyKind } from \"@/model/KeyKind\";\r\nimport {\r\n  freezeColors,\r\n  noteColors,\r\n  noteWidth,\r\n  editorHeight,\r\n  noteHeight\r\n} from \"../EditorConstant\";\r\n\r\nexport class NoteService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private keyConfig: KeyConfig,\r\n    private keyKind: KeyKind,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer\r\n  ) {}\r\n\r\n  private keyNum = this.keyConfig[this.keyKind].num;\r\n\r\n  // ノーツの有無の判定\r\n  hasNote(\r\n    page: number,\r\n    lane: number,\r\n    position: number\r\n  ): { exists: boolean; isFreeze: boolean } {\r\n    const pageScore = this.scoreData.scores[page - 1];\r\n    const isFreeze = pageScore.freezes[lane].includes(position);\r\n    const exists = pageScore.notes[lane].includes(position) || isFreeze;\r\n    return { exists, isFreeze };\r\n  }\r\n\r\n  // ノーツの追加\r\n  add(page: number, lane: number, position: number, isFreeze: boolean): void {\r\n    if (isFreeze) this.scoreData.scores[page - 1].freezes[lane].push(position);\r\n    else this.scoreData.scores[page - 1].notes[lane].push(position);\r\n  }\r\n\r\n  // ノーツの削除\r\n  remove(page: number, lane: number, position: number): void {\r\n    this.scoreData.scores[page - 1].freezes[lane] = this.scoreData.scores[\r\n      page - 1\r\n    ].freezes[lane].filter(pos => pos !== position);\r\n    this.scoreData.scores[page - 1].notes[lane] = this.scoreData.scores[\r\n      page - 1\r\n    ].notes[lane].filter(pos => pos !== position);\r\n  }\r\n\r\n  // ノーツの描画\r\n  draw(lane: number, position: number, isFreeze: boolean): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n    const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n\r\n    const color = ((lane: number, isFreeze: boolean) => {\r\n      if (isFreeze) {\r\n        return freezeColors[colorGroup[lane]];\r\n      } else {\r\n        return noteColors[colorGroup[lane]];\r\n      }\r\n    })(lane, isFreeze);\r\n\r\n    const note = new Konva.Rect({\r\n      x: lane * noteWidth,\r\n      y: editorHeight - position - noteHeight / 2,\r\n      width: noteWidth,\r\n      height: noteHeight,\r\n      fill: color,\r\n      id: `note-${lane}-${position}`\r\n    });\r\n    notesLayer.add(note);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // ノーツのクリア\r\n  clear(lane: number, position: number): void {\r\n    const stage = this.stage;\r\n    const notesLayer = this.notesLayer;\r\n\r\n    const note = notesLayer.findOne(`#note-${lane}-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // 行削除\r\n  removeOnPosition(\r\n    page: number,\r\n    position: number\r\n  ): {\r\n    lane: number;\r\n    isFreeze: boolean;\r\n  }[] {\r\n    const keyNum = this.keyNum;\r\n    const removedLanes = [];\r\n    for (let lane = 0; lane < keyNum; lane++) {\r\n      if (this.hasNote(page, lane, position).exists) {\r\n        this.remove(page, lane, position);\r\n        removedLanes.push({\r\n          lane,\r\n          isFreeze: this.hasNote(page, lane, position).isFreeze\r\n        });\r\n      }\r\n    }\r\n    return removedLanes;\r\n  }\r\n}\r\n","import Konva from \"konva\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { editorHeight } from \"../EditorConstant\";\r\nimport { SpeedType } from \"@/model/Speed\";\r\n\r\nexport class SpeedPieceService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private editorWidth: number,\r\n    private stage: Konva.Stage,\r\n    private notesLayer: Konva.Layer\r\n  ) {}\r\n\r\n  // 速度変化コマの存在判定\r\n  hasSpeedPiece(page: number, position: number): boolean {\r\n    return this.scoreData.scores[page - 1].speeds.some(\r\n      speed => speed.position === position\r\n    );\r\n  }\r\n\r\n  // 速度変化コマの追加\r\n  add(page: number, position: number, type: SpeedType, value = 1) {\r\n    this.scoreData.scores[page - 1].speeds.push({\r\n      position,\r\n      value,\r\n      type\r\n    });\r\n  }\r\n\r\n  // 速度変化コマの削除\r\n  remove(page: number, position: number) {\r\n    this.scoreData.scores[page - 1].speeds = this.scoreData.scores[\r\n      page - 1\r\n    ].speeds.filter(speed => speed.position !== position);\r\n  }\r\n\r\n  // 速度変化コマの描画\r\n  draw(position: number, type: SpeedType) {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const color = type === \"speed\" ? \"orange\" : \"purple\";\r\n    const radius = 6;\r\n    const triangle = new Konva.RegularPolygon({\r\n      sides: 3,\r\n      radius,\r\n      rotation: 30,\r\n      fill: color,\r\n      x: this.editorWidth + radius,\r\n      y: editorHeight - position,\r\n      id: `speed-${position}`\r\n    });\r\n\r\n    notesLayer.add(triangle);\r\n    stage.add(notesLayer);\r\n  }\r\n\r\n  // 速度変化コマのクリア\r\n  clear(position: number): void {\r\n    const stage = this.stage as Konva.Stage;\r\n    const notesLayer = this.notesLayer as Konva.Layer;\r\n\r\n    const note = notesLayer.findOne(`#speed-${position}`);\r\n    note.destroy();\r\n    stage.add(notesLayer);\r\n  }\r\n}\r\n","import { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport _ from \"lodash\";\r\n\r\nexport class PageScoreService {\r\n  constructor(\r\n    private scoreData: ScoreData,\r\n    private copyScoreStore: PageScore,\r\n    private keyNum: number,\r\n    private displayPageScore: (page: number) => void\r\n  ) {}\r\n\r\n  // ページコピー\r\n  copy(page: number) {\r\n    const pageScore = _.cloneDeep(this.scoreData.scores[page - 1]);\r\n    this.copyScoreStore = pageScore;\r\n  }\r\n\r\n  // ページカット\r\n  cut(page: number) {\r\n    this.copy(page);\r\n    this.scoreData.scores[page - 1] = new DefaultPageScore(this.keyNum);\r\n    this.displayPageScore(page);\r\n  }\r\n\r\n  // ページ貼り付け\r\n  paste(page: number) {\r\n    const pageScore = _.cloneDeep(this.copyScoreStore);\r\n    this.scoreData.scores[page - 1] = pageScore;\r\n    this.displayPageScore(page);\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.inputValue),expression:\"inputValue\"}],staticClass:\"editor-speed-piece\",style:({ top: 397 - _vm.position + 'px' }),attrs:{\"type\":\"number\",\"step\":\"0.01\"},domProps:{\"value\":(_vm.inputValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.inputValue=$event.target.value}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nexport default Vue.extend({\r\n  name: \"SpeedPiece\",\r\n  model: {\r\n    prop: \"propValue\",\r\n    event: \"changeSpeed\"\r\n  },\r\n  props: {\r\n    position: Number,\r\n    propValue: Number,\r\n    type: { type: String as PropType<SpeedType> }\r\n  },\r\n  computed: {\r\n    inputValue: {\r\n      get(): number {\r\n        return this.propValue;\r\n      },\r\n      set(inputValue: string) {\r\n        const value = Number(inputValue);\r\n        this.$emit(\"changeSpeed\", value);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpeedPiece.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpeedPiece.vue?vue&type=template&id=6b254104&\"\nimport script from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpeedPiece.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Timing } from \"@/model/Timing\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"../EditorConstant\";\r\n\r\nexport function positionToFrame(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  const framePerPosition = (60 * fps) / quarterInterval / timing.bpm;\r\n  const startFrame =\r\n    blankFrame +\r\n    timing.startNum +\r\n    (page - timing.label) * verticalSizeNum * framePerPosition;\r\n  return startFrame + position * framePerPosition;\r\n}\r\n\r\nexport function positionToSeconds(\r\n  timing: Timing,\r\n  page: number,\r\n  position: number,\r\n  blankFrame = 0\r\n): number {\r\n  return positionToFrame(timing, page, position, blankFrame) / fps;\r\n}\r\n\r\nexport function secondsToTimeStr(seconds: number): string {\r\n  const mm = Math.floor(seconds / 60);\r\n  const sec = Math.floor(seconds % 60);\r\n  const ss = sec < 10 ? `0${sec}` : `${sec}`;\r\n  return `${mm}:${ss}`;\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue, { PropType } from \"vue\";\r\nimport Konva from \"konva\";\r\nimport { DefaultKeyConfig, KeyConfig } from \"@/model/KeyConfig\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { KeyKind } from \"@/model/KeyKind\";\r\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport {\r\n  noteWidth,\r\n  editorHeight,\r\n  verticalSizeNum,\r\n  quarterInterval,\r\n  laneColors,\r\n  canvasMarginHorizontal,\r\n  canvasMarginVertical\r\n} from \"./EditorConstant\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { MusicService } from \"./service/MusicService\";\r\nimport { SpeedType } from \"../../model/Speed\";\r\nimport { NoteService } from \"./service/NoteService\";\r\nimport { SpeedPieceService } from \"./service/SpeedPieceService\";\r\nimport { PageScoreService } from \"./service/PageScoreService\";\r\nimport SpeedPiece from \"./SpeedPiece.vue\";\r\nimport {\r\n  positionToSeconds,\r\n  positionToFrame,\r\n  secondsToTimeStr\r\n} from \"./helper/Calculator\";\r\n\r\ntype DataType = {\r\n  currentPosition: number;\r\n  scoreData: ScoreData;\r\n  keyConfig: KeyConfig;\r\n  divisor: number;\r\n  keyKind: KeyKind;\r\n  keyNum: number;\r\n  page: number;\r\n  editorWidth: number;\r\n  musicTimer: number | null;\r\n  musicService: MusicService;\r\n  copyScoreStore: PageScore;\r\n  noteService?: NoteService;\r\n  speedPieceService?: SpeedPieceService;\r\n  pageScoreService?: PageScoreService;\r\n  stage?: Konva.Stage;\r\n  baseLayer?: Konva.Layer;\r\n  notesLayer?: Konva.Layer;\r\n  currentPositionLayer?: Konva.Layer;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorMain\",\r\n  props: {\r\n    pageNum: Number,\r\n    loadScoreData: { type: Object as PropType<ScoreData> },\r\n    loadMusicUrl: String,\r\n    selectedKey: String,\r\n    timing: { type: Object as PropType<Timing> }\r\n  },\r\n  components: { SpeedPiece },\r\n  data(): DataType {\r\n    const keyKind = this.selectedKey as KeyKind;\r\n    const keyConfig = DefaultKeyConfig;\r\n    const keyNum = keyConfig[keyKind].num;\r\n    const audio = new Audio(this.loadMusicUrl);\r\n\r\n    return {\r\n      currentPosition: 0,\r\n      scoreData: this.loadScoreData,\r\n      keyConfig: keyConfig,\r\n      divisor: 24,\r\n      keyKind,\r\n      page: 1,\r\n      keyNum,\r\n      editorWidth: noteWidth * keyConfig[keyKind].num,\r\n      musicService: new MusicService(audio),\r\n      musicTimer: null,\r\n      copyScoreStore: new DefaultPageScore(keyNum)\r\n    };\r\n  },\r\n  methods: {\r\n    // ベースレイヤーの描画\r\n    baseLayerDraw(): void {\r\n      const divisor = this.divisor;\r\n      const keyNum = this.keyNum;\r\n      const editorWidth = this.editorWidth;\r\n\r\n      const stage = this.stage as Konva.Stage;\r\n      const baseLayer = this.baseLayer as Konva.Layer;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n\r\n      baseLayer.destroyChildren();\r\n\r\n      // 縦罫線の描画\r\n      for (let lane = 0; lane < keyNum; lane++) {\r\n        const xPos = (lane + 1) * noteWidth;\r\n\r\n        const colorGroup = this.keyConfig[this.keyKind].colorGroup;\r\n        const color = laneColors[colorGroup[lane]];\r\n\r\n        const filler = new Konva.Rect({\r\n          x: xPos - noteWidth,\r\n          width: noteWidth,\r\n          height: editorHeight,\r\n          fill: color,\r\n          strokeWidth: 0\r\n        });\r\n        baseLayer.add(filler);\r\n\r\n        const line = new Konva.Line({\r\n          points: [xPos, 0, xPos, editorHeight],\r\n          stroke: \"#969696\",\r\n          strokeWidth: 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // 横罫線の描画\r\n      for (let i = 0; i < verticalSizeNum / divisor; i++) {\r\n        const yPos = (i + 1) * divisor;\r\n        const line = new Konva.Line({\r\n          points: [0, yPos, editorWidth, yPos],\r\n          stroke: \"#969696\",\r\n          strokeWidth: (divisor * (i + 1)) % quarterInterval == 0 ? 1 : 0.5\r\n        });\r\n        baseLayer.add(line);\r\n      }\r\n\r\n      // 枠線の描画\r\n      const rect = new Konva.Rect({\r\n        width: editorWidth,\r\n        height: editorHeight,\r\n        stroke: \"black\",\r\n        strokeWidth: 1\r\n      });\r\n      baseLayer.add(rect);\r\n\r\n      stage.add(baseLayer);\r\n      stage.add(notesLayer);\r\n      stage.add(currentPositionLayer);\r\n    },\r\n\r\n    // 現在位置の描画\r\n    currentPositionDraw(): void {\r\n      const stage = this.stage as Konva.Stage;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n\r\n      const color = \"#d8d800\";\r\n      const position = this.currentPosition;\r\n\r\n      const maybeLine = currentPositionLayer.findOne(\"#currentPositionLine\");\r\n      const line: Konva.Line =\r\n        maybeLine instanceof Konva.Line\r\n          ? maybeLine.y(editorHeight - position)\r\n          : new Konva.Line({\r\n              y: editorHeight - position,\r\n              points: [0, 0, this.editorWidth, 0],\r\n              stroke: color,\r\n              strokeWidth: 1.75,\r\n              id: \"currentPositionLine\"\r\n            });\r\n      const radius = 6;\r\n\r\n      const maybeTriangle = currentPositionLayer.findOne(\r\n        \"#currentPositionTriangle\"\r\n      );\r\n      const triangle: Konva.RegularPolygon =\r\n        maybeTriangle instanceof Konva.RegularPolygon\r\n          ? maybeTriangle.y(editorHeight - position)\r\n          : new Konva.RegularPolygon({\r\n              sides: 3,\r\n              radius,\r\n              rotation: -30,\r\n              fill: color,\r\n              x: -radius,\r\n              y: editorHeight - position,\r\n              id: `currentPositionTriangle`\r\n            });\r\n\r\n      const timing = this.timing;\r\n      const page = this.page;\r\n      const blankFrame = this.scoreData.blankFrame;\r\n      const currentFrame =\r\n        positionToFrame(timing, page, position, blankFrame) < 100000\r\n          ? Math.round(\r\n              positionToFrame(timing, page, position, blankFrame) * 10\r\n            ) / 10\r\n          : Math.round(positionToFrame(timing, page, position, blankFrame));\r\n\r\n      const currentSeconds = positionToSeconds(\r\n        timing,\r\n        page,\r\n        position,\r\n        blankFrame\r\n      );\r\n      const currentTimeStr = secondsToTimeStr(currentSeconds);\r\n      const displayedText = `${currentFrame}\\n[${currentTimeStr}]`;\r\n      const textWidth = 40;\r\n      const textHeight = 22;\r\n\r\n      const maybeText = currentPositionLayer.findOne(\"#currentPositionText\");\r\n      const text: Konva.Text =\r\n        maybeText instanceof Konva.Text\r\n          ? maybeText\r\n              .y(editorHeight - position - textHeight / 2)\r\n              .text(displayedText)\r\n          : new Konva.Text({\r\n              width: textWidth,\r\n              height: textHeight,\r\n              text: displayedText,\r\n              fill: \"black\",\r\n              fontSize: textHeight / 2,\r\n              align: \"center\",\r\n              x: -canvasMarginHorizontal + 2,\r\n              y: editorHeight - position - textHeight / 2,\r\n              id: `currentPositionText`\r\n            });\r\n\r\n      currentPositionLayer.add(line, triangle, text);\r\n      stage.add(currentPositionLayer);\r\n    },\r\n\r\n    // 再生位置の移動アニメーション\r\n    musicPositionAnimation(duration: number) {\r\n      const stage = this.stage as Konva.Stage;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n\r\n      const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n      const currentPositionLine: Konva.Line =\r\n        node instanceof Konva.Line\r\n          ? node.y(editorHeight)\r\n          : new Konva.Line({\r\n              y: editorHeight,\r\n              points: [0, 0, this.editorWidth, 0],\r\n              stroke: \"#8000ff\",\r\n              strokeWidth: 1.75,\r\n              id: \"musicPosition\"\r\n            });\r\n\r\n      currentPositionLayer.add(currentPositionLine);\r\n      stage.add(currentPositionLayer);\r\n\r\n      const tween = new Konva.Tween({\r\n        node: currentPositionLine,\r\n        duration: (duration * 4) / 5 / 1000, // 10拍中の8拍で上まで到達する\r\n        x: 0,\r\n        y: 0\r\n      });\r\n\r\n      setTimeout(() => {\r\n        tween.play();\r\n      }, duration / 5);\r\n    },\r\n\r\n    // 音楽再生処理\r\n    playMusicLoop(timing: Timing) {\r\n      const startPosition = -verticalSizeNum / 4;\r\n      const endPosition = verticalSizeNum;\r\n      const startTime = positionToSeconds(timing, this.page, startPosition);\r\n      const endTime = positionToSeconds(timing, this.page, endPosition);\r\n\r\n      const loop = (startTime: number, endTime: number) => {\r\n        const playDuration = (endTime - startTime) * 1000;\r\n        this.musicService.play(startTime);\r\n        this.musicPositionAnimation(playDuration);\r\n        if (this.musicTimer) {\r\n          const timer: number = setTimeout(() => {\r\n            this.musicService.pause();\r\n            loop(startTime, endTime);\r\n          }, playDuration);\r\n          this.musicTimer = timer;\r\n        }\r\n      };\r\n\r\n      this.musicTimer = 1;\r\n      loop(startTime, endTime);\r\n    },\r\n\r\n    // 音楽停止処理\r\n    stopMusicLoop(timer: number) {\r\n      const stage = this.stage as Konva.Stage;\r\n      const currentPositionLayer = this.currentPositionLayer as Konva.Layer;\r\n      const node = currentPositionLayer.findOne(\"#musicPosition\");\r\n      node.destroy();\r\n      stage.add(currentPositionLayer);\r\n\r\n      this.musicService.pause(timer);\r\n      this.musicTimer = null;\r\n    },\r\n\r\n    // 譜面データのページ反映\r\n    displayPageScore(page: number): void {\r\n      const stage = this.stage as Konva.Stage;\r\n      const notesLayer = this.notesLayer as Konva.Layer;\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n\r\n      const pageScore = this.scoreData.scores[page - 1];\r\n\r\n      notesLayer.destroyChildren();\r\n      stage.add(notesLayer);\r\n\r\n      pageScore.notes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, false);\r\n        });\r\n      });\r\n      pageScore.freezes.forEach((laneArr, lane) => {\r\n        laneArr.forEach(position => {\r\n          noteService.draw(lane, position, true);\r\n        });\r\n      });\r\n      pageScore.speeds.forEach(speed => {\r\n        speedPieceService.draw(speed.position, speed.type);\r\n      });\r\n    },\r\n\r\n    // 現在位置移動\r\n    currentPositionMove(position: number) {\r\n      this.currentPosition = position;\r\n      this.currentPositionDraw();\r\n    },\r\n\r\n    // ページ遷移\r\n    pageMove(page: number): void {\r\n      this.page = page;\r\n\r\n      // 今いるページ + 1までの範囲でemptyのページを初期化する\r\n      if (!this.scoreData.scores[page]) this.scoreData.scores.length = page + 1;\r\n      this.scoreData.scores = [...this.scoreData.scores].map(pageScore => {\r\n        if (!pageScore) return new DefaultPageScore(this.keyNum);\r\n        else return pageScore;\r\n      });\r\n      this.displayPageScore(page);\r\n\r\n      // 音楽再生時に移動すると再生位置を変更する\r\n      if (this.musicTimer) {\r\n        this.stopMusicLoop(this.musicTimer);\r\n        this.playMusicLoop(this.timing);\r\n      }\r\n    },\r\n    pageMinus(n: number, position = 0): void {\r\n      this.$emit(\"page-minus\", n);\r\n      this.currentPositionMove(position);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.$emit(\"page-plus\", n);\r\n      this.currentPositionMove(0);\r\n    },\r\n\r\n    // 移動間隔変更\r\n    changeDivisor(divisor: number) {\r\n      this.divisor = divisor;\r\n      if (this.currentPosition % divisor !== 0) {\r\n        this.currentPositionMove(\r\n          Math.floor(this.currentPosition / divisor) * divisor\r\n        );\r\n      }\r\n      this.baseLayerDraw();\r\n    },\r\n\r\n    // キーを押したときの挙動\r\n    keydownAction(e: KeyboardEvent): void {\r\n      const noteService = this.noteService as NoteService;\r\n      const speedPieceService = this.speedPieceService as SpeedPieceService;\r\n      const pageScoreService = this.pageScoreService as PageScoreService;\r\n\r\n      if (e.ctrlKey) {\r\n        switch (e.code) {\r\n          case \"Digit1\":\r\n            this.changeDivisor(quarterInterval);\r\n            break;\r\n          case \"Digit2\":\r\n            this.changeDivisor(quarterInterval / 2);\r\n            break;\r\n          case \"Digit3\":\r\n            this.changeDivisor(quarterInterval / 4);\r\n            break;\r\n          case \"Digit4\":\r\n            this.changeDivisor(quarterInterval / 3);\r\n            break;\r\n          case \"Digit5\":\r\n            this.changeDivisor(quarterInterval / 6);\r\n            break;\r\n          case \"Digit6\":\r\n            this.changeDivisor(quarterInterval / 12);\r\n            break;\r\n          case \"Digit7\":\r\n            this.changeDivisor(quarterInterval / 8);\r\n            break;\r\n          case \"KeyX\":\r\n            pageScoreService.cut(this.page);\r\n            break;\r\n          case \"KeyC\":\r\n            pageScoreService.copy(this.page);\r\n            break;\r\n          case \"KeyV\":\r\n            pageScoreService.paste(this.page);\r\n            break;\r\n          case \"ArrowUp\": {\r\n            let operateNotesPage = this.page;\r\n            const removedLanes = noteService.removeOnPosition(\r\n              operateNotesPage,\r\n              this.currentPosition\r\n            );\r\n            this.currentPosition += this.divisor;\r\n            if (this.currentPosition >= verticalSizeNum) {\r\n              this.pagePlus(1);\r\n              operateNotesPage++;\r\n            } else this.currentPositionMove(this.currentPosition);\r\n            noteService.removeOnPosition(\r\n              operateNotesPage,\r\n              this.currentPosition\r\n            );\r\n            removedLanes.forEach(obj =>\r\n              noteService.add(\r\n                operateNotesPage,\r\n                obj.lane,\r\n                this.currentPosition,\r\n                obj.isFreeze\r\n              )\r\n            );\r\n            this.displayPageScore(operateNotesPage);\r\n            break;\r\n          }\r\n          case \"ArrowDown\": {\r\n            let operateNotesPage = this.page;\r\n            const removedLanes = noteService.removeOnPosition(\r\n              operateNotesPage,\r\n              this.currentPosition\r\n            );\r\n            this.currentPosition -= this.divisor;\r\n            if (this.currentPosition < 0) {\r\n              if (this.page === 1) {\r\n                this.currentPosition = 0;\r\n              } else {\r\n                this.pageMinus(1, this.currentPosition + verticalSizeNum);\r\n                operateNotesPage--;\r\n              }\r\n            } else this.currentPositionMove(this.currentPosition);\r\n            noteService.removeOnPosition(\r\n              operateNotesPage,\r\n              this.currentPosition\r\n            );\r\n            removedLanes.forEach(obj =>\r\n              noteService.add(\r\n                operateNotesPage,\r\n                obj.lane,\r\n                this.currentPosition,\r\n                obj.isFreeze\r\n              )\r\n            );\r\n            this.displayPageScore(operateNotesPage);\r\n            break;\r\n          }\r\n        }\r\n      } else {\r\n        switch (e.code) {\r\n          case \"Enter\": {\r\n            if (!this.musicTimer) {\r\n              const timing = this.timing;\r\n              this.playMusicLoop(timing);\r\n            } else {\r\n              const timer = this.musicTimer;\r\n              this.stopMusicLoop(timer);\r\n            }\r\n            break;\r\n          }\r\n          case \"Backspace\":\r\n            noteService.removeOnPosition(this.page, this.currentPosition);\r\n            this.displayPageScore(this.page);\r\n            break;\r\n          case \"Space\":\r\n            this.currentPosition += this.divisor;\r\n            if (this.currentPosition >= verticalSizeNum) this.pagePlus(1);\r\n            else this.currentPositionMove(this.currentPosition);\r\n            break;\r\n          case \"ArrowUp\":\r\n            this.currentPosition += this.divisor;\r\n            if (this.currentPosition >= verticalSizeNum) this.pagePlus(1);\r\n            else this.currentPositionMove(this.currentPosition);\r\n            break;\r\n          case \"ArrowDown\":\r\n            this.currentPosition -= this.divisor;\r\n            if (this.currentPosition < 0) {\r\n              if (this.page === 1) this.currentPosition = 0;\r\n              else this.pageMinus(1, this.currentPosition + verticalSizeNum);\r\n            } else this.currentPositionMove(this.currentPosition);\r\n            break;\r\n          case \"ArrowLeft\":\r\n            if (e.shiftKey) this.pageMinus(5);\r\n            else this.pageMinus(1);\r\n            break;\r\n          case \"ArrowRight\":\r\n            if (e.shiftKey) this.pagePlus(5);\r\n            else this.pagePlus(1);\r\n            break;\r\n          case \"Quote\":\r\n            {\r\n              const speedType: SpeedType = e.shiftKey ? \"boost\" : \"speed\";\r\n              const page = this.page;\r\n              const position = this.currentPosition;\r\n\r\n              if (speedPieceService.hasSpeedPiece(page, position)) {\r\n                speedPieceService.remove(page, position);\r\n                speedPieceService.clear(position);\r\n              } else {\r\n                speedPieceService.add(page, position, speedType);\r\n                speedPieceService.draw(position, speedType);\r\n              }\r\n            }\r\n            break;\r\n\r\n          default: {\r\n            const possiblyLane = Math.max(\r\n              this.keyConfig[this.keyKind].keys.indexOf(e.code),\r\n              this.keyConfig[this.keyKind].alternativeKeys.indexOf(e.code)\r\n            );\r\n            const isFreeze = e.shiftKey;\r\n            const page = this.page;\r\n            const position = this.currentPosition;\r\n\r\n            if (possiblyLane >= 0) {\r\n              if (noteService.hasNote(page, possiblyLane, position).exists) {\r\n                noteService.remove(page, possiblyLane, position);\r\n                noteService.clear(possiblyLane, position);\r\n              } else {\r\n                noteService.add(page, possiblyLane, position, isFreeze);\r\n                noteService.draw(possiblyLane, position, isFreeze);\r\n              }\r\n\r\n              this.currentPosition += this.divisor;\r\n              if (this.currentPosition >= verticalSizeNum) this.pagePlus(1);\r\n              else this.currentPositionMove(this.currentPosition);\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  },\r\n\r\n  mounted(): void {\r\n    const stage = new Konva.Stage({\r\n      x: canvasMarginHorizontal,\r\n      y: canvasMarginVertical,\r\n      container: \"canvas\",\r\n      width: this.editorWidth + canvasMarginHorizontal * 2,\r\n      height: editorHeight + canvasMarginVertical * 2\r\n    });\r\n    const baseLayer = new Konva.Layer({\r\n      container: \"baseLayer\"\r\n    });\r\n    const currentPositionLayer = new Konva.Layer({\r\n      container: \"currentPositionLayer\"\r\n    });\r\n    const notesLayer = new Konva.Layer({\r\n      container: \"notesLayer\"\r\n    });\r\n\r\n    this.stage = stage;\r\n    this.baseLayer = baseLayer;\r\n    this.currentPositionLayer = currentPositionLayer;\r\n    this.notesLayer = notesLayer;\r\n\r\n    this.baseLayerDraw();\r\n    this.currentPositionDraw();\r\n    this.pageMove(1);\r\n    this.displayPageScore(1);\r\n\r\n    this.noteService = new NoteService(\r\n      this.scoreData,\r\n      this.keyConfig,\r\n      this.keyKind,\r\n      this.stage,\r\n      this.notesLayer\r\n    );\r\n\r\n    this.speedPieceService = new SpeedPieceService(\r\n      this.scoreData,\r\n      this.editorWidth,\r\n      this.stage,\r\n      this.notesLayer\r\n    );\r\n\r\n    this.pageScoreService = new PageScoreService(\r\n      this.scoreData,\r\n      this.copyScoreStore,\r\n      this.keyNum,\r\n      this.displayPageScore\r\n    );\r\n  },\r\n\r\n  watch: {\r\n    pageNum(newPage: number): void {\r\n      this.pageMove(newPage);\r\n    },\r\n\r\n    scoreData(scoreData: ScoreData): void {\r\n      this.$emit(\"changeScoreData\", scoreData);\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorMain.vue?vue&type=template&id=4cc935dc&\"\nimport script from \"./EditorMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Timing } from \"./Timing\";\r\nimport { PageScore, DefaultPageScore } from \"./PageScore\";\r\n\r\nexport interface ScoreData {\r\n  blankFrame: number;\r\n  timings: Timing[];\r\n  scores: PageScore[];\r\n}\r\n\r\nexport class DefaultScoreData implements ScoreData {\r\n  constructor(private keyNum: number) {}\r\n\r\n  blankFrame = 200;\r\n\r\n  timings: Timing[] = [\r\n    {\r\n      label: 1,\r\n      startNum: 0,\r\n      bpm: 140\r\n    }\r\n  ];\r\n\r\n  scores: PageScore[] = [new DefaultPageScore(this.keyNum)];\r\n}\r\n","import _ from \"lodash\";\r\nimport { KeyConfig } from \"@/model/KeyConfig\";\r\nimport { ScoreData } from \"@/model/ScoreData\";\r\nimport { KeyKind } from \"@/model/KeyKind\";\r\nimport { PageScore, DefaultPageScore } from \"@/model/PageScore\";\r\nimport { quarterInterval } from \"../EditorConstant\";\r\nimport { Speed } from \"@/model/Speed\";\r\nimport { positionToFrame } from \"../helper/Calculator\";\r\n\r\nexport type FrameData = {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n  speeds: Speed[];\r\n};\r\n\r\nexport type OutputData = {\r\n  notes: number[][];\r\n  freezes: number[][];\r\n  speeds: Speed[];\r\n  boosts: Speed[];\r\n};\r\n\r\nexport class ScoreConvertService {\r\n  constructor(private keyKind: KeyKind, private keyConfig: KeyConfig) {}\r\n\r\n  private keyNum = this.keyConfig[this.keyKind].num;\r\n  private defaultPageScore = new DefaultPageScore(this.keyNum);\r\n\r\n  toFrameData(scoreData: ScoreData): FrameData[] {\r\n    const initialPageScore = new DefaultPageScore(this.keyNum);\r\n    const blankFrame = scoreData.blankFrame;\r\n    const timings = scoreData.timings.sort((a, b) => a.label - b.label);\r\n    const scores = scoreData.scores;\r\n\r\n    let labelCounter = 0;\r\n    const maxPageNum = scores.length + 1;\r\n    const frameScores: PageScore[] = [];\r\n\r\n    for (let pageNum = 1; pageNum < maxPageNum; pageNum++) {\r\n      const pageScore = scores[pageNum - 1];\r\n      if (pageScore === undefined) frameScores.push(initialPageScore);\r\n      else {\r\n        if (timings[labelCounter] && pageNum === timings[labelCounter].label)\r\n          labelCounter++;\r\n        const timing = timings[labelCounter - 1];\r\n        const calculateFrame = (position: number) =>\r\n          Math.round(positionToFrame(timing, pageNum, position, blankFrame));\r\n\r\n        const pageNoteFrames = pageScore.notes.map(notesArr =>\r\n          notesArr.map(calculateFrame)\r\n        );\r\n        const freezeNoteFrames = pageScore.freezes.map(freezesArr =>\r\n          freezesArr.map(calculateFrame)\r\n        );\r\n        const speedsNoteFrames = pageScore.speeds.map(speed => {\r\n          const newSpeed: Speed = _.cloneDeep(speed);\r\n          newSpeed.position = calculateFrame(speed.position);\r\n          return newSpeed;\r\n        });\r\n        frameScores.push({\r\n          notes: pageNoteFrames,\r\n          freezes: freezeNoteFrames,\r\n          speeds: speedsNoteFrames\r\n        });\r\n      }\r\n    }\r\n    return frameScores;\r\n  }\r\n\r\n  convert(scoreData: ScoreData): string {\r\n    const frameScores = this.toFrameData(scoreData);\r\n    const initialData = {\r\n      notes: new Array(this.keyNum).fill([]).map(() => []),\r\n      freezes: new Array(this.keyNum).fill([]).map(() => []),\r\n      speeds: [],\r\n      boosts: []\r\n    };\r\n\r\n    const data: OutputData = frameScores.reduce(\r\n      (data: OutputData, currentPage) => {\r\n        for (let i = 0; i < this.keyNum; i++) {\r\n          data.notes[i] = data.notes[i].concat(currentPage.notes[i]);\r\n          data.freezes[i] = data.freezes[i].concat(currentPage.freezes[i]);\r\n        }\r\n        data.speeds = data.speeds.concat(\r\n          currentPage.speeds.filter(speed => speed.type === \"speed\")\r\n        );\r\n        data.boosts = data.boosts.concat(\r\n          currentPage.speeds.filter(speed => speed.type === \"boost\")\r\n        );\r\n        return data;\r\n      },\r\n      initialData\r\n    );\r\n\r\n    data.speeds.sort((a, b) => a.position - b.position);\r\n    data.boosts.sort((a, b) => a.position - b.position);\r\n\r\n    const noteStr = data.notes.reduce(\r\n      (str, notesArr, laneNum) =>\r\n        str +\r\n        this.keyConfig[this.keyKind].noteNames[laneNum] +\r\n        \"=\" +\r\n        notesArr.join(\",\") +\r\n        \"|\",\r\n      \"|\"\r\n    );\r\n\r\n    const freezeStr = data.freezes.reduce(\r\n      (str, freezesArr, laneNum) =>\r\n        str +\r\n        this.keyConfig[this.keyKind].freezeNames[laneNum] +\r\n        \"=\" +\r\n        freezesArr.join(\",\") +\r\n        \"|\",\r\n      \"\"\r\n    );\r\n\r\n    const speedStr =\r\n      \"speed_data=\" +\r\n      data.speeds.map(speed => `${speed.position},${speed.value}`).join(\",\") +\r\n      \"|\";\r\n    const boostStr =\r\n      \"boost_data=\" +\r\n      data.boosts.map(speed => `${speed.position},${speed.value}`).join(\",\") +\r\n      \"|\";\r\n\r\n    return `\r\n${noteStr + freezeStr}\r\n|${speedStr + boostStr}`;\r\n  }\r\n\r\n  cutLastDefault(scoreData: ScoreData): ScoreData {\r\n    const len = scoreData.scores.length;\r\n    const copiedScoreData = _.cloneDeep(scoreData);\r\n    let i = len - 1;\r\n    while (i >= 0) {\r\n      if (_.isEqual(copiedScoreData.scores[i], this.defaultPageScore)) {\r\n        copiedScoreData.scores.pop();\r\n        i--;\r\n      } else break;\r\n    }\r\n    return copiedScoreData;\r\n  }\r\n\r\n  // 四分譜面の作成・変換\r\n  convertWithQuarters(scoreData: ScoreData): string {\r\n    const quarterNotes: number[] = [];\r\n    for (let i = 0; i < 8; i++) {\r\n      quarterNotes.push(i * quarterInterval);\r\n    }\r\n\r\n    // Todo: 四分譜面を出力するページ数を変更できるようにする\r\n    const pushQuartersPageNum = 20;\r\n\r\n    // Todo: ノーツを置く位置を変更できるようにする\r\n    const pushQuartersLane = 0;\r\n\r\n    const newScoreData = this.cutLastDefault(_.cloneDeep(scoreData));\r\n\r\n    for (let i = 0; i < pushQuartersPageNum; i++) {\r\n      const quartersPageScore: PageScore = new DefaultPageScore(this.keyNum);\r\n      quartersPageScore.notes[pushQuartersLane] = quarterNotes;\r\n      newScoreData.scores.push(quartersPageScore);\r\n    }\r\n\r\n    return this.convert(this.cutLastDefault(newScoreData));\r\n  }\r\n\r\n  save(scoreData: ScoreData): string {\r\n    return JSON.stringify(this.cutLastDefault(scoreData));\r\n  }\r\n}\r\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorMain from \"./EditorMain.vue\";\r\nimport { Timing } from \"../../model/Timing\";\r\nimport { ScoreData, DefaultScoreData } from \"../../model/ScoreData\";\r\nimport { ScoreConvertService } from \"./service/ScoreConvertService\";\r\nimport { KeyKind } from \"../../model/KeyKind\";\r\nimport { KeyConfig, DefaultKeyConfig } from \"../../model/KeyConfig\";\r\nimport { fps, quarterInterval, verticalSizeNum } from \"./EditorConstant\";\r\n\r\ntype DataType = {\r\n  pageNum: number;\r\n  labelNum: number;\r\n  timing: Timing;\r\n  scoreData: ScoreData;\r\n  keyKind: KeyKind;\r\n  keyConfig: KeyConfig;\r\n  scoreConvertService: ScoreConvertService;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"EditorController\",\r\n  components: {\r\n    EditorMain\r\n  },\r\n  props: {\r\n    selectedKey: String,\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String\r\n  },\r\n  data(): DataType {\r\n    const keyConfig = DefaultKeyConfig;\r\n    const keyKind = this.selectedKey as KeyKind;\r\n    const keyNum = keyConfig[keyKind].num;\r\n    let scoreData;\r\n    try {\r\n      //TODO: 譜面データのチェッカーを作る\r\n      if (!this.loadScoreDataStr) scoreData = new DefaultScoreData(keyNum);\r\n      else\r\n        scoreData = (JSON.parse(this.loadScoreDataStr) as unknown) as ScoreData;\r\n    } catch {\r\n      alert(\"不正な譜面データが与えられたため、正しく読み込めませんでした。\");\r\n      scoreData = new DefaultScoreData(keyNum);\r\n    }\r\n\r\n    return {\r\n      pageNum: 1,\r\n      labelNum: 1,\r\n      timing: scoreData.timings[0],\r\n      scoreData,\r\n      keyKind,\r\n      keyConfig,\r\n      scoreConvertService: new ScoreConvertService(keyKind, keyConfig)\r\n    };\r\n  },\r\n  methods: {\r\n    pageMinus(n: number): void {\r\n      this.pageNum = Math.max(1, this.pageNum - n);\r\n    },\r\n    pagePlus(n: number): void {\r\n      this.pageNum += n;\r\n    },\r\n    labelMinus(n: number): void {\r\n      this.labelNum = Math.max(1, this.labelNum - n);\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelPlus(n: number): void {\r\n      this.labelNum = Math.min(\r\n        this.scoreData.timings.length,\r\n        this.labelNum + n\r\n      );\r\n      this.labelMove(this.labelNum);\r\n      this.pageNum = this.scoreData.timings[this.labelNum - 1].label;\r\n    },\r\n    labelMove(labelNum: number): void {\r\n      const timing = this.scoreData.timings[labelNum - 1];\r\n      this.labelNum = labelNum;\r\n      this.timing = timing;\r\n    },\r\n    changeScoreData(scoreData: ScoreData) {\r\n      this.scoreData = scoreData;\r\n    },\r\n\r\n    writeClipBoard(data: string, message: string): void {\r\n      if (navigator.clipboard) {\r\n        navigator.clipboard.writeText(data);\r\n        alert(message);\r\n      }\r\n    },\r\n\r\n    convert(): void {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convert(this.scoreData);\r\n      const message = \"譜面データをクリップボードにコピーしました！\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n    save(): void {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.save(this.scoreData);\r\n      const message = \"セーブデータをクリップボードにコピーしました！\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n    convertWithQuarters(): void {\r\n      const converter = this.scoreConvertService;\r\n      const data: string = converter.convertWithQuarters(this.scoreData);\r\n      const message = \"四分譜面データをクリップボードにコピーしました！\";\r\n      this.writeClipBoard(data, message);\r\n    },\r\n    getLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      return labels.indexOf(pageNum);\r\n    },\r\n    getNearestLabelNumByPageNum(pageNum: number): number {\r\n      const labels = this.scoreData.timings.map(timing => timing.label);\r\n      const labelNum = labels.reduce(\r\n        (acc, label) => (label <= pageNum ? acc + 1 : acc),\r\n        0\r\n      );\r\n      return labelNum;\r\n    },\r\n    labelOperation(pageNum: number, labelFlag: boolean): void {\r\n      if (labelFlag) {\r\n        // 削除処理\r\n        const labelNum = this.getLabelNumByPageNum(pageNum);\r\n        this.scoreData.timings.splice(labelNum, 1);\r\n        this.labelNum--;\r\n        this.timing = this.scoreData.timings[this.labelNum - 1];\r\n      } else {\r\n        // 挿入処理\r\n        const oldTiming = this.timing;\r\n        const framePerPosition = (60 * fps) / quarterInterval / oldTiming.bpm;\r\n        const newStartNum =\r\n          Math.round(\r\n            (oldTiming.startNum +\r\n              (pageNum - oldTiming.label) *\r\n                verticalSizeNum *\r\n                framePerPosition) *\r\n              100\r\n          ) / 100;\r\n        const newTiming: Timing = {\r\n          label: pageNum,\r\n          startNum: newStartNum,\r\n          bpm: oldTiming.bpm\r\n        };\r\n        this.scoreData.timings.splice(this.labelNum, 0, newTiming);\r\n        this.timing = newTiming;\r\n        this.labelNum++;\r\n      }\r\n    },\r\n    callLabelOperation(): void {\r\n      const pageNum = this.pageNum;\r\n      const labelFlag = this.getLabelNumByPageNum(pageNum) !== -1;\r\n      this.labelOperation(pageNum, labelFlag);\r\n      this.pageNum = pageNum;\r\n    }\r\n  },\r\n  watch: {\r\n    pageNum(newPage: number) {\r\n      const labelNum = this.getNearestLabelNumByPageNum(newPage);\r\n      this.labelNum = labelNum;\r\n      this.labelMove(labelNum);\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditorController.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditorController.vue?vue&type=template&id=939cf768&\"\nimport script from \"./EditorController.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditorController.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport EditorController from \"@/components/editor/EditorController.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Editor\",\r\n  components: {\r\n    EditorController\r\n  },\r\n  props: {\r\n    loadScoreDataStr: String,\r\n    loadMusicUrl: String,\r\n    selectedKey: String\r\n  },\r\n  beforeRouteLeave(to, from, next) {\r\n    const answer = window.confirm(\"内容が消去されますがよろしいですか？\");\r\n    if (answer) next();\r\n    else next(false);\r\n  },\r\n\r\n  methods: {\r\n    beforeunloadAlert(event: BeforeUnloadEvent) {\r\n      event.returnValue = \"内容が消去されますがよろしいですか？\";\r\n    }\r\n  },\r\n  created() {\r\n    window.addEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  },\r\n  destroyed() {\r\n    window.removeEventListener(\"beforeunload\", this.beforeunloadAlert);\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Editor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Editor.vue?vue&type=template&id=71f92896&\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts&\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start\"}},[_c('start-main')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start-container\"}},[_c('div',{attrs:{\"id\":\"start-title\"}},[_vm._v(\"Dancing☆Onigiri Editor\")]),_c('div',{attrs:{\"id\":\"start-menu\"}},[_c('start-uploader',{attrs:{\"msg\":_vm.musicTitle},on:{\"fileRecieve\":_vm.onMusicFileRecieve}}),_c('start-uploader',{attrs:{\"msg\":_vm.scoreTitle},on:{\"fileRecieve\":_vm.onScoreFileRecieve}}),_c('div',{attrs:{\"id\":\"start-go-next\"}},[_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedKey),expression:\"selectedKey\"}],staticClass:\"uk-select uk-form-width-medium\",attrs:{\"id\":\"start-key-selector\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedKey=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.keyConfig),function(value,keyKind){return _c('option',{key:value.id},[_vm._v(_vm._s(keyKind))])}),0),_c('router-link',{staticClass:\"start-go-btn btn-red\",attrs:{\"to\":{\n          name: 'editor',\n          path: 'editor',\n          params: {\n            scoreData: _vm.scoreDataStr,\n            musicUrl: _vm.musicUrl\n          },\n          query: { key: _vm.selectedKey }\n        }}},[_vm._v(\" NEXT \")])],1),_c('div',{attrs:{\"id\":\"start-version\"}},[_vm._v(\"ver 2.1.3β created by SKB\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"start-music-select\"},on:{\"dragover\":function($event){$event.preventDefault();return _vm.ondragover($event)},\"drop\":function($event){$event.preventDefault();return _vm.ondrop($event)}}},[_c('div',{staticClass:\"uk-placeholder uk-text-center uk-margin-remove-bottom\",attrs:{\"uk-form-custom\":\"\"}},[_c('input',{ref:\"input\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.loadFile}}),_c('span',{attrs:{\"uk-icon\":\"icon: upload\"}}),_c('span',{staticClass:\"uk-text-middle\"},[_vm._v(\" \"+_vm._s(_vm.msg)+\" \")]),_c('span',{staticClass:\"uk-link\"},[_vm._v(\"参照\")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\n\r\ntype DataType = {\r\n  vue: Vue;\r\n  file: File | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartUploader\",\r\n  props: {\r\n    msg: String\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      vue: this,\r\n      file: null\r\n    };\r\n  },\r\n  methods: {\r\n    ondragover(e: DragEvent): void {\r\n      if (e.dataTransfer) e.dataTransfer.dropEffect = \"copy\";\r\n    },\r\n    ondrop(e: DragEvent): void {\r\n      if (e.dataTransfer) {\r\n        const file = e.dataTransfer.files[0] || null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    },\r\n    loadFile(e: Event): void {\r\n      if (e.target instanceof HTMLInputElement) {\r\n        const file = e.target.files ? e.target.files[0] : null;\r\n        this.file = file;\r\n      } else {\r\n        this.file = null;\r\n      }\r\n    }\r\n  },\r\n  watch: {\r\n    file(newFile: File | null) {\r\n      if (!(newFile === null)) {\r\n        this.$emit(\"fileRecieve\", newFile);\r\n      } else {\r\n        alert(\"ファイルが見つかりませんでした。\");\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartUploader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartUploader.vue?vue&type=template&id=692eb448&\"\nimport script from \"./StartUploader.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartUploader.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartUploader from \"./StartUploader.vue\";\r\nimport { KeyKind } from \"@/model/KeyKind\";\r\nimport { DefaultKeyConfig, KeyConfig } from \"../../model/KeyConfig\";\r\n\r\ntype DataType = {\r\n  keyConfig: KeyConfig;\r\n  musicTitle: string;\r\n  scoreTitle: string;\r\n  selectedKey: KeyKind;\r\n  musicUrl: string | null;\r\n  scoreDataStr: string | null;\r\n};\r\n\r\nexport default Vue.extend({\r\n  name: \"StartMain\",\r\n  components: {\r\n    StartUploader\r\n  },\r\n  data(): DataType {\r\n    return {\r\n      keyConfig: DefaultKeyConfig,\r\n      musicTitle: \"楽曲ファイルをドロップ\",\r\n      scoreTitle: \"譜面ファイルをドロップ\",\r\n      selectedKey: \"5\",\r\n      musicUrl: null,\r\n      scoreDataStr: null\r\n    };\r\n  },\r\n  methods: {\r\n    onMusicFileRecieve(file: File) {\r\n      const mimeTypePattern = \"audio.*\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"音楽ファイルではありません。\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.musicUrl = result;\r\n            this.musicTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsDataURL(file);\r\n      }\r\n    },\r\n    onScoreFileRecieve(file: File) {\r\n      const mimeTypePattern = \"(application/json|text/plain)\";\r\n      if (!file.type.match(mimeTypePattern))\r\n        alert(\"譜面ファイルではありません。\");\r\n      else {\r\n        const reader = new FileReader();\r\n        reader.onload = () => {\r\n          const result = reader.result;\r\n          if (typeof result == \"string\") {\r\n            this.scoreDataStr = result;\r\n            this.scoreTitle = file.name;\r\n          }\r\n        };\r\n        reader.readAsText(file);\r\n      }\r\n    }\r\n  }\r\n});\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--13-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StartMain.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StartMain.vue?vue&type=template&id=f9263220&\"\nimport script from \"./StartMain.vue?vue&type=script&lang=ts&\"\nexport * from \"./StartMain.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport StartMain from \"@/components/start/StartMain.vue\";\r\n\r\nexport default Vue.extend({\r\n  name: \"Start\",\r\n  components: {\r\n    StartMain\r\n  }\r\n});\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/ts-loader/index.js??ref--13-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Start.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Start.vue?vue&type=template&id=68ad6a46&\"\nimport script from \"./Start.vue?vue&type=script&lang=ts&\"\nexport * from \"./Start.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\r\nimport Editor from \"./pages/Editor.vue\";\r\nimport Start from \"./pages/Start.vue\";\r\nimport Router from \"vue-router\";\r\nimport { KeyKind } from \"./model/KeyKind\";\r\n\r\nVue.config.productionTip = false;\r\n\r\nVue.use(Router);\r\n\r\ntype PropsType = {\r\n  loadScoreDataStr: string;\r\n  loadMusicUrl: string;\r\n  selectedKey: KeyKind;\r\n};\r\n\r\nexport default new Router({\r\n  routes: [\r\n    {\r\n      path: \"/\",\r\n      name: \"Start\",\r\n      component: Start\r\n    },\r\n    {\r\n      path: \"/editor\",\r\n      name: \"editor\",\r\n      component: Editor,\r\n      props(routes): PropsType {\r\n        return {\r\n          loadScoreDataStr: routes.params.scoreData,\r\n          loadMusicUrl: routes.params.musicUrl,\r\n          selectedKey: (routes.query.key || \"7\") as KeyKind\r\n        };\r\n      }\r\n    }\r\n  ]\r\n});\r\n","import Vue from \"vue\";\nimport App from \"./App.vue\";\nimport router from \"./router\";\nimport UIkit from \"uikit\";\nimport Icons from \"uikit/dist/js/uikit-icons\";\n\nimport \"uikit/dist/css/uikit.min.css\";\nimport \"uikit/dist/css/uikit-core.min.css\";\n\nUIkit.use(Icons);\n\nVue.config.productionTip = false;\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount(\"#app\");\n"],"sourceRoot":""}